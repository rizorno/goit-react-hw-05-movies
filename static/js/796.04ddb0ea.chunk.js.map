{"version":3,"file":"static/js/796.04ddb0ea.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/GoUp/go-up.module.scss?d82a","components/GoUp/GoUp.jsx","webpack://react-homework-template/./src/components/MovieItem/movie-item.module.scss?c68a","components/MovieItem/MovieItem.jsx","constants/LS.jsx","constants/fetchStatus.jsx","webpack://react-homework-template/./src/pages/Home/home.module.scss?c0bb","pages/Home/Home.jsx","services/moviesAPI.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btn-go-up\":\"go-up_btn-go-up__gfDv5\"};","import { useState, useEffect } from 'react';\nimport css from './go-up.module.scss';\n\nconst GoUp = () => {\n  const [btnUp, setBtnUp] = useState(null);\n  const scrollY = window.scrollY || document.documentElement.scrollTop;\n\n  useEffect(() => {\n    const trackScroll = () => {\n      const scrollY = window.scrollY || document.documentElement.scrollTop;\n      setBtnUp(scrollY);\n    };\n\n    window.addEventListener('scroll', trackScroll);\n  }, [btnUp]);\n\n  const backToUp = () => {\n    if (window.pageYOffset > 0) {\n      window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n      // setTimeout(btnUp, 0);\n    }\n  };\n\n  return scrollY > 400 ? (\n    <button\n      className={css['btn-go-up']}\n      title=\"Go to up\"\n      onClick={backToUp}\n    ></button>\n  ) : (\n    <></>\n  );\n};\n\nexport default GoUp;\n","// extracted by mini-css-extract-plugin\nexport default {\"content__item\":\"movie-item_content__item__Pot9i\",\"content__img\":\"movie-item_content__img__UkKVh\",\"box-description\":\"movie-item_box-description__PJTYq\",\"content__title\":\"movie-item_content__title__yOXn8\",\"content__text\":\"movie-item_content__text__lR+OK\",\"content__popularity\":\"movie-item_content__popularity__pSiNG\"};","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { load } from '../../constants/LS';\nimport css from './movie-item.module.scss';\n\nconst MovieItem = ({ moviesList }) => {\n  const location = useLocation();\n\n  const elements = moviesList.map(element => {\n    const {\n      poster_path,\n      title,\n      vote_average,\n      genre_ids,\n      release_date,\n      genres,\n      id,\n    } = element;\n\n    let movieGenres;\n    if (genres) {\n      movieGenres = load('genres')\n        .map(({ name }) => name)\n        .join(', ');\n    }\n\n    if (genre_ids) {\n      movieGenres = load('genres')\n        .filter(({ id }) => genre_ids.includes(id))\n        .map(({ name }) => name)\n        .join(', ');\n    }\n\n    return (\n      <li key={id} className={css['content__item']} data-id={id}>\n        <Link to={`/movies/${id}`} state={{ from: location }}>\n          <img\n            className={css['content__img']}\n            data-id={id}\n            src={\n              poster_path\n                ? `https://image.tmdb.org/t/p/original/${poster_path}`\n                : 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/No_photo_available.svg/800px-No_photo_available.svg.png'\n            }\n            alt={title}\n          />\n          <div className={css['box-description']}>\n            <h2 className={css['content__title']}>{title}</h2>\n            <p className={css['content__text']}>\n              {movieGenres} | {release_date.slice(0, 4)}\n            </p>\n            <p className={css['content__popularity']}>\n              {vote_average.toFixed(1)}\n            </p>\n          </div>\n        </Link>\n      </li>\n    );\n  });\n\n  return <>{elements}</>;\n};\n\nMovieItem.propTypes = {\n  moviesList: PropTypes.array.isRequired,\n};\n\nexport default MovieItem;\n","export const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nexport const load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport const del = key => {\n  try {\n    const serializedState = localStorage.removeItem(key);\n    localStorage.removeItem(key, serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n","export const FETCH_STATUS = {\n  home: 'home',\n  movies: 'movies',\n  trending: 'trending',\n  top: 'top',\n  search: 'search',\n  info: 'info',\n  loading: 'loading',\n  fullfilled: 'fullfilled',\n  rejected: 'rejected',\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"box-btn-home\":\"home_box-btn-home__2h-F3\",\"header-btn-home\":\"home_header-btn-home__AOQ0C\",\"header-btn-home--current\":\"home_header-btn-home--current__wUns0\",\"content\":\"home_content__FNxFL\",\"container\":\"home_container__H4r93\",\"content__list\":\"home_content__list__jeC64\",\"content__item\":\"home_content__item__RWTbW\",\"content__img\":\"home_content__img__E36vt\",\"box-description\":\"home_box-description__PEyFe\",\"content__title\":\"home_content__title__PqOBM\",\"content__text\":\"home_content__text__pcjGU\",\"content__popularity\":\"home_content__popularity__+TFlz\"};","import { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport { FETCH_STATUS } from '../../constants/fetchStatus';\nimport { save } from '../../constants/LS';\nimport { getTrending, getTop, getGenres } from '../../services/moviesAPI';\nimport MovieItem from '../../components/MovieItem/MovieItem';\nimport GoUp from '../../components/GoUp/GoUp';\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\nimport css from './home.module.scss';\n\nconst Home = () => {\n  // eslint-disable-next-line no-unused-vars\n  const location = useLocation();\n\n  const [moviesList, setMoviesList] = useState([]);\n  const [currentPage] = useState(1);\n  const [status, setStatus] = useState(FETCH_STATUS.home);\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        Loading.pulse({\n          svgColor: 'orange',\n        });\n\n        const response = await getTrending({\n          page: currentPage,\n          adult: false,\n        });\n        const responseGenres = await getGenres();\n        setMoviesList(prev => [...response.results]);\n        save('genres', responseGenres.genres);\n\n        Loading.remove();\n        return response;\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    if (status === FETCH_STATUS.home || status === FETCH_STATUS.trending) {\n      fetchMovies();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [status, currentPage]);\n\n  useEffect(() => {\n    setMoviesList([]);\n    const fetchMoviesTop = async () => {\n      try {\n        Loading.pulse({\n          svgColor: 'orange',\n        });\n        const response = await getTop({\n          page: currentPage,\n        });\n\n        setMoviesList(prev => [...response.results]);\n\n        Loading.remove();\n        return response;\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if (status === FETCH_STATUS.top) {\n      fetchMoviesTop();\n    }\n  }, [status, currentPage]);\n\n  const handleChangeTrending = () => {\n    setStatus(FETCH_STATUS.trending);\n  };\n\n  const handleChangeTop = () => {\n    setStatus(FETCH_STATUS.top);\n  };\n\n  return (\n    <main>\n      <div className={css['box-btn-home']}>\n        <button\n          name=\"trending\"\n          onClick={handleChangeTrending}\n          className={\n            status === FETCH_STATUS.trending || status === FETCH_STATUS.home\n              ? css['header-btn-home--current']\n              : css['header-btn-home']\n          }\n        >\n          Trending today\n        </button>\n\n        <button\n          name=\"top\"\n          onClick={handleChangeTop}\n          className={\n            status === FETCH_STATUS.top\n              ? css['header-btn-home--current']\n              : css['header-btn-home']\n          }\n        >\n          Top rated\n        </button>\n      </div>\n\n      <div className={css.content}>\n        <div className={css.container}>\n          <ul className={css['content__list']}>\n            <MovieItem moviesList={moviesList} />\n          </ul>\n        </div>\n      </div>\n      {moviesList.length > 0 ? <GoUp /> : <></>}\n    </main>\n  );\n};\n\nexport default Home;\n","import axios from 'axios';\n\nconst moviesService = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: {\n    api_key: 'bc23d88e8c379b88dcc9e69c75bc8f78',\n    language: 'en-US',\n  },\n});\n\nexport const getGenres = async params => {\n  const { data } = await moviesService.get('genre/movie/list', {\n    params,\n  });\n  return data;\n};\n\nexport const getTrending = async params => {\n  const { data } = await moviesService.get('trending/movie/day', {\n    params,\n  });\n  return data;\n};\n\nexport const getTop = async params => {\n  const { data } = await moviesService.get('movie/top_rated', {\n    params,\n  });\n  return data;\n};\n\nexport const getKeyword = async params => {\n  const { data } = await moviesService.get('search/movie', {\n    params,\n  });\n  return data;\n};\n\nexport const getById = async (id, params) => {\n  const { data } = await moviesService.get(`movie/${id}`, {\n    params,\n  });\n  return data;\n};\n\nexport const getCast = async (id, params) => {\n  const { data } = await moviesService.get(`movie/${id}/credits`, {\n    params,\n  });\n  return data;\n};\n\nexport const getReviews = async (id, params) => {\n  const { data } = await moviesService.get(`movie/${id}/reviews`, {\n    params,\n  });\n  return data;\n};\n\nexport const getYouTube = async (id, params) => {\n  const { data } = await moviesService.get(`movie/${id}/videos`, {\n    params,\n  });\n  return data;\n};\n"],"names":["useState","btnUp","setBtnUp","scrollY","window","document","documentElement","scrollTop","useEffect","addEventListener","className","css","title","onClick","pageYOffset","scrollTo","top","left","behavior","moviesList","location","useLocation","elements","map","element","movieGenres","poster_path","vote_average","genre_ids","release_date","genres","id","load","name","join","filter","includes","to","state","from","src","alt","slice","toFixed","save","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","getItem","undefined","parse","FETCH_STATUS","setMoviesList","currentPage","status","setStatus","fetchMovies","Loading","svgColor","getTrending","page","adult","response","getGenres","responseGenres","prev","results","log","fetchMoviesTop","getTop","MovieItem","length","GoUp","moviesService","axios","baseURL","params","api_key","language","get","data","getKeyword","getById","getCast","getReviews","getYouTube"],"sourceRoot":""}