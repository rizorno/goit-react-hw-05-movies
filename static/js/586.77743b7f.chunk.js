"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[586],{222:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(439),a=r(791),o="go-up_btn-go-up__gfDv5",s=r(184),c=function(){var e=(0,a.useState)(null),t=(0,n.Z)(e,2),r=t[0],c=t[1],u=window.scrollY||document.documentElement.scrollTop;(0,a.useEffect)((function(){window.addEventListener("scroll",(function(){var e=window.scrollY||document.documentElement.scrollTop;c(e)}))}),[r]);return u>400?(0,s.jsx)("button",{className:o,title:"Go to up",onClick:function(){window.pageYOffset>0&&window.scrollTo({top:0,left:0,behavior:"smooth"})}}):(0,s.jsx)(s.Fragment,{})}},746:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(87),a=r(689),o=r(399),s="movie-item_content__item__Pot9i",c="movie-item_content__img__UkKVh",u="movie-item_box-description__PJTYq",i="movie-item_content__title__yOXn8",l="movie-item_content__text__lR+OK",m="movie-item_content__popularity__pSiNG",f=r(184),p=function(e){var t=e.moviesList,r=(0,a.TH)(),p=t.map((function(e){var t,a=e.poster_path,p=e.title,v=e.vote_average,d=e.genre_ids,_=e.release_date,h=e.genres,g=e.id;return h&&(t=(0,o.zD)("genres").map((function(e){return e.name})).join(", ")),d&&(t=(0,o.zD)("genres").filter((function(e){var t=e.id;return d.includes(t)})).map((function(e){return e.name})).join(", ")),(0,f.jsx)("li",{className:s,"data-id":g,children:(0,f.jsxs)(n.rU,{to:"/movies/".concat(g),state:{from:r},children:[(0,f.jsx)("img",{className:c,"data-id":g,src:a?"https://image.tmdb.org/t/p/original/".concat(a):"https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/No_photo_available.svg/800px-No_photo_available.svg.png",alt:p}),(0,f.jsxs)("div",{className:u,children:[(0,f.jsx)("h2",{className:i,children:p}),(0,f.jsxs)("p",{className:l,children:[t," | ",_.slice(0,4)]}),(0,f.jsx)("p",{className:m,children:v.toFixed(1)})]})]})},g)}));return(0,f.jsx)(f.Fragment,{children:p})}},399:function(e,t,r){r.d(t,{a1:function(){return n},zD:function(){return a}});var n=function(e,t){try{var r=JSON.stringify(t);localStorage.setItem(e,r)}catch(n){console.error("Set state error: ",n.message)}},a=function(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(r){console.error("Get state error: ",r.message)}}},586:function(e,t,r){r.r(t),r.d(t,{default:function(){return S}});var n=r(433),a=r(861),o=r(439),s=r(757),c=r.n(s),u=r(791),i=r(87),l=r(689),m=r(245),f=r(399),p=r(746),v="search-form_box-form__R5a+5",d="search-form_form-search__MCLRX",_="search-form_form-search__label__9usOS",h="search-form_form-search__input__mllaY",g="search-form_btn-submit__HEsL5",x=r(184),w=function(){var e=(0,i.lr)(),t=(0,o.Z)(e,2),r=t[0],n=t[1],a=r.get("movieName"),s=(0,u.useState)(null!==a&&void 0!==a?a:""),c=(0,o.Z)(s,2),l=c[0],m=c[1];return(0,x.jsx)("div",{className:v,children:(0,x.jsx)("form",{className:d,onSubmit:function(e){e.preventDefault(),""!==l.trim()&&(n({movieName:l}),m(""))},children:(0,x.jsxs)("label",{className:_,children:[(0,x.jsx)("input",{className:h,type:"text",name:"search",autoComplete:"off",placeholder:"Movie search",onChange:function(e){m(e.currentTarget.value.toLowerCase())},value:l}),(0,x.jsx)("button",{type:"submit",className:g})]})})})},b=r(222),y=r(264),j=r(742),N="movies_content__4grx3",Z="movies_container__kH1Yc",k="movies_content__list__xHwIA",S=function(){(0,l.TH)();var e=(0,i.lr)(),t=(0,o.Z)(e,1)[0].get("movieName"),r=(0,u.useState)([]),s=(0,o.Z)(r,2),v=s[0],d=s[1],_=(0,u.useState)(1),h=(0,o.Z)(_,2),g=h[0],S=h[1];return(0,u.useEffect)((function(){d([]),S(1);var e=function(){var e=(0,a.Z)(c().mark((function e(){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j.Loading.pulse({svgColor:"orange"}),e.next=4,(0,m.e8)({page:g,query:t,include_adult:!1});case 4:if(r=e.sent,(0,f.zD)("genres")){e.next=11;break}return e.next=8,(0,m.JZ)();case 8:a=e.sent,d((function(e){return(0,n.Z)(r.results)})),(0,f.a1)("genres",a.genres);case 11:return r.total_results>0&&(d((function(e){return(0,n.Z)(r.results)})),1===g&&y.Notify.success("Hooray! We found ".concat(r.total_results," movies."))),0===r.total_results&&y.Notify.failure("Sorry, there are no movies matching your search query. Please try again."),j.Loading.remove(),e.abrupt("return",r);case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();t&&e()}),[t]),(0,x.jsxs)("main",{children:[(0,x.jsx)(w,{}),(0,x.jsx)("div",{className:N,children:(0,x.jsx)("div",{className:Z,children:(0,x.jsx)("ul",{className:k,children:(0,x.jsx)(p.Z,{moviesList:v})})})}),v.length>0?(0,x.jsx)(b.Z,{}):(0,x.jsx)(x.Fragment,{})]})}},245:function(e,t,r){r.d(t,{FO:function(){return m},Hg:function(){return u},IQ:function(){return f},JZ:function(){return c},Jh:function(){return p},e8:function(){return l},vF:function(){return i},zR:function(){return v}});var n=r(861),a=r(757),o=r.n(a),s=r(912).Z.create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"bc23d88e8c379b88dcc9e69c75bc8f78",language:"en-US"}}),c=function(){var e=(0,n.Z)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("genre/movie/list",{params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,n.Z)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("trending/movie/day",{params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=(0,n.Z)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("movie/top_rated",{params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("search/movie",{params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,n.Z)(o().mark((function e(t,r){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("movie/".concat(t),{params:r});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(o().mark((function e(t,r){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("movie/".concat(t,"/credits"),{params:r});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(o().mark((function e(t,r){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("movie/".concat(t,"/reviews"),{params:r});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=(0,n.Z)(o().mark((function e(t,r){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("movie/".concat(t,"/videos"),{params:r});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=586.77743b7f.chunk.js.map