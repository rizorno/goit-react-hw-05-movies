{"version":3,"file":"static/js/586.77743b7f.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/GoUp/go-up.module.scss?d82a","components/GoUp/GoUp.jsx","webpack://react-homework-template/./src/components/MovieItem/movie-item.module.scss?c68a","components/MovieItem/MovieItem.jsx","constants/LS.jsx","webpack://react-homework-template/./src/components/SearchForm/search-form.module.scss?fc12","components/SearchForm/SearchForm.jsx","webpack://react-homework-template/./src/pages/Movies/movies.module.scss?f3fb","pages/Movies/Movies.jsx","services/moviesAPI.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btn-go-up\":\"go-up_btn-go-up__gfDv5\"};","import { useState, useEffect } from 'react';\nimport css from './go-up.module.scss';\n\nconst GoUp = () => {\n  const [btnUp, setBtnUp] = useState(null);\n  const scrollY = window.scrollY || document.documentElement.scrollTop;\n\n  useEffect(() => {\n    const trackScroll = () => {\n      const scrollY = window.scrollY || document.documentElement.scrollTop;\n      setBtnUp(scrollY);\n    };\n\n    window.addEventListener('scroll', trackScroll);\n  }, [btnUp]);\n\n  const backToUp = () => {\n    if (window.pageYOffset > 0) {\n      window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n      // setTimeout(btnUp, 0);\n    }\n  };\n\n  return scrollY > 400 ? (\n    <button\n      className={css['btn-go-up']}\n      title=\"Go to up\"\n      onClick={backToUp}\n    ></button>\n  ) : (\n    <></>\n  );\n};\n\nexport default GoUp;\n","// extracted by mini-css-extract-plugin\nexport default {\"content__item\":\"movie-item_content__item__Pot9i\",\"content__img\":\"movie-item_content__img__UkKVh\",\"box-description\":\"movie-item_box-description__PJTYq\",\"content__title\":\"movie-item_content__title__yOXn8\",\"content__text\":\"movie-item_content__text__lR+OK\",\"content__popularity\":\"movie-item_content__popularity__pSiNG\"};","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { load } from '../../constants/LS';\nimport css from './movie-item.module.scss';\n\nconst MovieItem = ({ moviesList }) => {\n  const location = useLocation();\n\n  const elements = moviesList.map(element => {\n    const {\n      poster_path,\n      title,\n      vote_average,\n      genre_ids,\n      release_date,\n      genres,\n      id,\n    } = element;\n\n    let movieGenres;\n    if (genres) {\n      movieGenres = load('genres')\n        .map(({ name }) => name)\n        .join(', ');\n    }\n\n    if (genre_ids) {\n      movieGenres = load('genres')\n        .filter(({ id }) => genre_ids.includes(id))\n        .map(({ name }) => name)\n        .join(', ');\n    }\n\n    return (\n      <li key={id} className={css['content__item']} data-id={id}>\n        <Link to={`/movies/${id}`} state={{ from: location }}>\n          <img\n            className={css['content__img']}\n            data-id={id}\n            src={\n              poster_path\n                ? `https://image.tmdb.org/t/p/original/${poster_path}`\n                : 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/No_photo_available.svg/800px-No_photo_available.svg.png'\n            }\n            alt={title}\n          />\n          <div className={css['box-description']}>\n            <h2 className={css['content__title']}>{title}</h2>\n            <p className={css['content__text']}>\n              {movieGenres} | {release_date.slice(0, 4)}\n            </p>\n            <p className={css['content__popularity']}>\n              {vote_average.toFixed(1)}\n            </p>\n          </div>\n        </Link>\n      </li>\n    );\n  });\n\n  return <>{elements}</>;\n};\n\nMovieItem.propTypes = {\n  moviesList: PropTypes.array.isRequired,\n};\n\nexport default MovieItem;\n","export const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nexport const load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport const del = key => {\n  try {\n    const serializedState = localStorage.removeItem(key);\n    localStorage.removeItem(key, serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"box-form\":\"search-form_box-form__R5a+5\",\"form-search\":\"search-form_form-search__MCLRX\",\"form-search__label\":\"search-form_form-search__label__9usOS\",\"form-search__input\":\"search-form_form-search__input__mllaY\",\"btn-submit\":\"search-form_btn-submit__HEsL5\"};","import { useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport css from './search-form.module.scss';\n\nconst SearchForm = () => {\n  const [params, setParams] = useSearchParams();\n  const search = params.get('movieName');\n\n  const [movieName, setMovieName] = useState(search ?? '');\n\n  const handleChange = e => {\n    setMovieName(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (movieName.trim() === '') {\n      return;\n    }\n    setParams({ movieName });\n    setMovieName('');\n  };\n\n  return (\n    <div className={css['box-form']}>\n      <form className={css['form-search']} onSubmit={handleSubmit}>\n        <label className={css['form-search__label']}>\n          <input\n            className={css['form-search__input']}\n            type=\"text\"\n            name=\"search\"\n            autoComplete=\"off\"\n            placeholder=\"Movie search\"\n            onChange={handleChange}\n            value={movieName}\n          />\n          <button type=\"submit\" className={css['btn-submit']}></button>\n        </label>\n      </form>\n    </div>\n  );\n};\n\nexport default SearchForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"movies_content__4grx3\",\"container\":\"movies_container__kH1Yc\",\"content__list\":\"movies_content__list__xHwIA\",\"content__item\":\"movies_content__item__w8EIo\",\"content__img\":\"movies_content__img__a1Y7+\",\"box-description\":\"movies_box-description__SX8ej\",\"content__title\":\"movies_content__title__V0Oy2\",\"content__text\":\"movies_content__text__IJ6ok\",\"content__popularity\":\"movies_content__popularity__P62wf\"};","import { useState, useEffect } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\n\nimport { getKeyword, getGenres } from '../../services/moviesAPI';\nimport { save, load } from '../../constants/LS';\nimport MovieItem from '../../components/MovieItem/MovieItem';\nimport SearchForm from '../../components/SearchForm/SearchForm';\nimport GoUp from '../../components/GoUp/GoUp';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\nimport css from './movies.module.scss';\n\nconst Movies = () => {\n  // eslint-disable-next-line no-unused-vars\n  const location = useLocation();\n\n  const [params] = useSearchParams();\n  const search = params.get('movieName');\n\n  const [moviesList, setMoviesList] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  useEffect(() => {\n    setMoviesList([]);\n    setCurrentPage(1); // for pagination\n\n    const fetchMoviesKeyword = async () => {\n      try {\n        Loading.pulse({\n          svgColor: 'orange',\n        });\n        const response = await getKeyword({\n          page: currentPage,\n          query: search,\n          include_adult: false,\n        });\n\n        if (!load('genres')) {\n          const responseGenres = await getGenres();\n          setMoviesList(prev => [...response.results]);\n          save('genres', responseGenres.genres);\n        }\n\n        if (response['total_results'] > 0) {\n          setMoviesList(prev => [...response.results]);\n\n          if (currentPage === 1) {\n            Notify.success(\n              `Hooray! We found ${response['total_results']} movies.`\n            );\n          }\n        }\n        if (response['total_results'] === 0) {\n          Notify.failure(\n            'Sorry, there are no movies matching your search query. Please try again.'\n          );\n        }\n        Loading.remove();\n        return response;\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if (search) {\n      fetchMoviesKeyword();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [search]);\n\n  return (\n    <main>\n      <SearchForm />\n      <div className={css.content}>\n        <div className={css.container}>\n          <ul className={css['content__list']}>\n            <MovieItem moviesList={moviesList} />\n          </ul>\n        </div>\n      </div>\n      {moviesList.length > 0 ? <GoUp /> : <></>}\n    </main>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst moviesService = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: {\n    api_key: 'bc23d88e8c379b88dcc9e69c75bc8f78',\n    language: 'en-US',\n  },\n});\n\nexport const getGenres = async params => {\n  const { data } = await moviesService.get('genre/movie/list', {\n    params,\n  });\n  return data;\n};\n\nexport const getTrending = async params => {\n  const { data } = await moviesService.get('trending/movie/day', {\n    params,\n  });\n  return data;\n};\n\nexport const getTop = async params => {\n  const { data } = await moviesService.get('movie/top_rated', {\n    params,\n  });\n  return data;\n};\n\nexport const getKeyword = async params => {\n  const { data } = await moviesService.get('search/movie', {\n    params,\n  });\n  return data;\n};\n\nexport const getById = async (id, params) => {\n  const { data } = await moviesService.get(`movie/${id}`, {\n    params,\n  });\n  return data;\n};\n\nexport const getCast = async (id, params) => {\n  const { data } = await moviesService.get(`movie/${id}/credits`, {\n    params,\n  });\n  return data;\n};\n\nexport const getReviews = async (id, params) => {\n  const { data } = await moviesService.get(`movie/${id}/reviews`, {\n    params,\n  });\n  return data;\n};\n\nexport const getYouTube = async (id, params) => {\n  const { data } = await moviesService.get(`movie/${id}/videos`, {\n    params,\n  });\n  return data;\n};\n"],"names":["useState","btnUp","setBtnUp","scrollY","window","document","documentElement","scrollTop","useEffect","addEventListener","className","css","title","onClick","pageYOffset","scrollTo","top","left","behavior","moviesList","location","useLocation","elements","map","element","movieGenres","poster_path","vote_average","genre_ids","release_date","genres","id","load","name","join","filter","includes","to","state","from","src","alt","slice","toFixed","save","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","getItem","undefined","parse","useSearchParams","params","setParams","search","get","movieName","setMovieName","onSubmit","e","preventDefault","trim","type","autoComplete","placeholder","onChange","currentTarget","toLowerCase","setMoviesList","currentPage","setCurrentPage","fetchMoviesKeyword","Loading","svgColor","getKeyword","page","query","include_adult","response","getGenres","responseGenres","prev","results","Notify","log","MovieItem","length","GoUp","moviesService","axios","baseURL","api_key","language","data","getTrending","getTop","getById","getCast","getReviews","getYouTube"],"sourceRoot":""}