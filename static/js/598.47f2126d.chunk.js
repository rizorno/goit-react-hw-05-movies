/*! For license information please see 598.47f2126d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[598],{399:function(e,t,r){r.d(t,{a1:function(){return n},zD:function(){return a}});var n=function(e,t){try{var r=JSON.stringify(t);localStorage.setItem(e,r)}catch(n){console.error("Set state error: ",n.message)}},a=function(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(r){console.error("Get state error: ",r.message)}}},598:function(e,t,r){r.r(t),r.d(t,{default:function(){return L}});var n=r(861),a=r(439),s=r(757),o=r.n(s),l=r(791),i=r(87),c=r(689),u=r(399),d=r(245),m="go-back_btn-go-back__ezZ78",p=r(184),v=function(){var e,t,r=(0,c.TH)();return(0,p.jsx)(i.rU,{to:null!==(e=null===(t=r.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/",className:m})},f=r(164),_=r(433),b=r(725),h=r.n(b),x=function(e){for(var t=e.url,r=e.allowFullScreen,n=e.position,a=e.display,s=e.height,o=e.width,i=e.overflow,c=e.styles,u=e.onLoad,d=e.onMouseOver,m=e.onMouseOut,p=e.scrolling,v=e.id,f=e.frameBorder,b=e.ariaHidden,x=e.sandbox,g=e.allow,w=e.className,y=e.title,j=e.ariaLabel,N=e.ariaLabelledby,k=e.name,O=e.target,S=e.loading,C=e.importance,Z=e.referrerpolicy,L=e.allowpaymentrequest,z=e.src,E=e.key,F=h()({src:z||t,target:O||null,style:{position:n||null,display:a||"initial",overflow:i||null},scrolling:p||null,allowpaymentrequest:L||null,importance:C||null,sandbox:x&&(0,_.Z)(x).join(" ")||null,loading:S||null,styles:c||null,name:k||null,className:w||null,allowFullScreen:"allowFullScreen",referrerpolicy:Z||null,title:y||null,allow:g||null,id:v||null,"aria-labelledby":N||null,"aria-hidden":b||null,"aria-label":j||null,width:o||null,height:s||null,onLoad:u||null,onMouseOver:d||null,onMouseOut:m||null,key:E||"iframe"}),M=Object.create(null),P=0,T=Object.keys(F);P<T.length;P++){var B=T[P];null!=F[B]&&(M[B]=F[B])}for(var Y=0,H=Object.keys(M.style);Y<H.length;Y++){var I=H[Y];null==M.style[I]&&delete M.style[I]}if(M.styles)for(var J=0,R=Object.keys(M.styles);J<R.length;J++){var U=R[J];M.styles.hasOwnProperty(U)&&(M.style[U]=M.styles[U]),Object.keys(M.styles).pop()==U&&delete M.styles}if(r)if("allow"in M){var A=M.allow.replace("fullscreen","");M.allow="fullscreen ".concat(A.trim()).trim()}else M.allow="fullscreen";return f>=0&&(M.style.hasOwnProperty("border")||(M.style.border=f)),l.createElement("iframe",Object.assign({},M))},g=r(742),w="modal-teaser_overlay__Fz+Y6",y="modal-teaser_video-modal__YOe4m",j="modal-teaser_video-modal__iframe__vkx7B",N="modal-teaser_video-modal__btn-close__nwzC0",k=function(e){var t=e.youtube,r=e.onCloseTeaser;(0,l.useEffect)((function(){var e=function(e){var t=e.target,n=e.currentTarget;"Escape"!==e.code&&t!==n||r()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[r]);var n=function(e){var t=e.target,n=e.currentTarget;"Escape"!==e.code&&t!==n||r()};g.Loading.pulse({svgColor:"orange"});var a=(0,p.jsx)("div",{className:w,onClick:n,children:(0,p.jsxs)("div",{className:y,children:[(0,p.jsx)("button",{type:"button",className:N,"aria-label":"Close",onClick:n}),(0,p.jsx)("div",{className:j,children:(0,p.jsx)(x,{url:"https://www.youtube.com/embed/".concat(t,"?showinfo=0"),src:"https://www.youtube.com/embed/".concat(t,"?showinfo=0"),position:"absolute",title:"Teaser on YouTube",frameborder:"0",allowfullscreen:!0})})]})});return g.Loading.remove(),t?(0,f.createPortal)(a,document.getElementById("modal")):(0,p.jsx)(p.Fragment,{})},O=r(264),S="you-tube_btn-youtube__SwjzK",C=function(){var e=(0,c.UO)().moviedId,t=(0,l.useState)(""),r=(0,a.Z)(t,2),s=r[0],i=r[1],u=(0,l.useState)(!1),m=(0,a.Z)(u,2),v=m[0],f=m[1];(0,l.useEffect)((function(){var t=function(){var t=(0,n.Z)(o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,g.Loading.pulse({svgColor:"orange"}),t.next=4,(0,d.zR)(e);case 4:""!==(r=t.sent).results[0].key&&i(r.results[0].key),0!==r.results.length&&""!==r.results[0].key||O.Notify.failure("Sorry, there are no teaser matching your search query. Please try again later."),g.Loading.remove(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();v&&t()}),[e,v]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("button",{className:S,onClick:function(e){f(!0)},children:[(0,p.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",children:[(0,p.jsx)("title",{children:"youtube"}),(0,p.jsx)("path",{fill:"#f00",d:"M31.681 9.6c0 0-0.313-2.206-1.275-3.175-1.219-1.275-2.581-1.281-3.206-1.356-4.475-0.325-11.194-0.325-11.194-0.325h-0.012c0 0-6.719 0-11.194 0.325-0.625 0.075-1.987 0.081-3.206 1.356-0.963 0.969-1.269 3.175-1.269 3.175s-0.319 2.588-0.319 5.181v2.425c0 2.587 0.319 5.181 0.319 5.181s0.313 2.206 1.269 3.175c1.219 1.275 2.819 1.231 3.531 1.369 2.563 0.244 10.881 0.319 10.881 0.319s6.725-0.012 11.2-0.331c0.625-0.075 1.988-0.081 3.206-1.356 0.962-0.969 1.275-3.175 1.275-3.175s0.319-2.587 0.319-5.181v-2.425c-0.006-2.588-0.325-5.181-0.325-5.181zM12.694 20.15v-8.994l8.644 4.513-8.644 4.481z"})]}),"YouTube"]}),v&&(0,p.jsx)(k,{youtube:s,onCloseTeaser:function(){f(!1)}})]})},Z={"box-loading":"movie-details_box-loading__jhDWN",modal:"movie-details_modal__baF21","box-wrapper-flex":"movie-details_box-wrapper-flex__iAxLv","box-wrapper-text":"movie-details_box-wrapper-text__MhyB8","content__img--modal":"movie-details_content__img--modal__WVN67",modal__title:"movie-details_modal__title__446-j","box-wrapper":"movie-details_box-wrapper__E738K",a:"movie-details_a__1rbNO",b:"movie-details_b__i8cfX",c:"movie-details_c__6Sn+A",d:"movie-details_d__kSzuN",e:"movie-details_e__+uylb",f:"movie-details_f__d9l4J",g:"movie-details_g__pGxsH",a1:"movie-details_a1__gxNPL",b1:"movie-details_b1__kgNuR",c1:"movie-details_c1__Wd2r-",d1:"movie-details_d1__sGZRl",e1:"movie-details_e1__OyXCB",f1:"movie-details_f1__B76tl",g1:"movie-details_g1__PO-CY","title-name":"movie-details_title-name__HmxB1","title-type--flex":"movie-details_title-type--flex__h15mJ","title-type--height":"movie-details_title-type--height__u3bga","title-type--upper":"movie-details_title-type--upper__mttyU","span-color":"movie-details_span-color__rPujp","span-nocolor":"movie-details_span-nocolor__zgM1Y",modal__about:"movie-details_modal__about__aMvrB",modal__text:"movie-details_modal__text__DsrrA","box-button":"movie-details_box-button__YnzUo","cast-button":"movie-details_cast-button__85Nfr","reviews-button":"movie-details_reviews-button__+Nd8o","cast-button--current":"movie-details_cast-button--current__JHnrF","reviews-button--current":"movie-details_reviews-button--current__pyQCf"},L=function(){var e=(0,c.TH)(),t=(0,c.UO)().moviedId,r=(0,l.useState)({}),s=(0,a.Z)(r,2),m=s[0],f=s[1],_=(0,l.useState)(""),b=(0,a.Z)(_,2),h=(b[0],b[1]);(0,l.useEffect)((function(){var e=function(){var e=(0,n.Z)(o().mark((function e(){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g.Loading.pulse({svgColor:"orange"}),e.next=4,(0,d.FO)(t);case 4:return r=e.sent,f(r),e.next=8,(0,d.zR)(t);case 8:n=e.sent,h(n),g.Loading.remove(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]);var x,w,y,j,N=m.poster_path,k=m.title,O=m.vote_average,S=m.vote_count,L=m.popularity,z=m.original_title,E=m.genres,F=m.genre_ids,M=m.production_countries,P=m.overview,T=m.release_date;if(O){x=Math.round(S);for(var B=String(x),Y=B.split(""),H=B.length-1,I=Math.floor(H/3),J=1;J<=I;J+=1){H=H-1-J,Y.splice(H,0," "),x=Y.join("")}}return L&&(w=Math.round(L)),E&&(y=(0,u.zD)("genres").map((function(e){return e.name})).join(", ")),F&&(y=(0,u.zD)("genres").filter((function(e){var t=e.id;return F.includes(t)})).map((function(e){return e.name})).join(", ")),M&&(j=M.map((function(e){return e.name})).join(", ")),(0,p.jsxs)("main",{className:Z.modal,children:[(0,p.jsx)(v,{}),(0,p.jsx)("div",{className:Z["modal-info"],children:(0,p.jsxs)("div",{className:Z["box-wrapper-flex"],children:[(0,p.jsx)("div",{className:Z["box-wrapper-img"],children:(0,p.jsx)("img",{className:Z["content__img--modal"],src:"https://image.tmdb.org/t/p/original".concat(N),alt:k})}),(0,p.jsxs)("div",{className:Z["box-wrapper-text"],children:[(0,p.jsx)("h1",{className:Z.modal__title,children:k}),(0,p.jsxs)("div",{className:Z["box-wrapper"],children:[(0,p.jsx)("p",{className:Z.a,children:"Vote / Votes"}),(0,p.jsx)("p",{className:Z.b,children:"Popularity"}),(0,p.jsx)("p",{className:Z.c,children:"Original Title"}),(0,p.jsx)("p",{className:Z.d,children:"Genre"}),(0,p.jsx)("p",{className:Z.e,children:"Country"}),(0,p.jsx)("p",{className:Z.f,children:"Year"}),(0,p.jsx)("p",{className:Z.g,children:"Teaser"}),(0,p.jsxs)("p",{className:Z.a1,children:[(0,p.jsx)("span",{className:Z["span-color"],children:Number(O).toFixed(1)}),"/ ",(0,p.jsx)("span",{className:Z["span-nocolor"],children:x})]}),(0,p.jsx)("p",{className:Z.b1,children:w}),(0,p.jsx)("p",{className:Z.c1,children:z}),(0,p.jsx)("p",{className:Z.d1,children:y}),(0,p.jsx)("p",{className:Z.e1,children:j}),(0,p.jsx)("p",{className:Z.f1,children:String(T).slice(0,4)}),(0,p.jsx)("p",{className:Z.g1,children:(0,p.jsx)(C,{})})]}),(0,p.jsx)("p",{className:Z.modal__about,children:"About"}),(0,p.jsx)("p",{className:Z.modal__text,children:P}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("ul",{className:Z["box-button"],children:[(0,p.jsx)("li",{className:Z["cast-button"],children:(0,p.jsx)(i.OL,{to:"cast",state:{from:e.state.from},className:function(e){return e.isActive?Z["cast-button--current"]:Z["cast-button"]},children:"Cast"})}),(0,p.jsx)("li",{className:Z["reviews-button"],children:(0,p.jsx)(i.OL,{to:"reviews",state:{from:e.state.from},className:function(e){return e.isActive?Z["reviews-button--current"]:Z["reviews-button"]},children:"Reviews"})})]}),(0,p.jsx)(l.Suspense,{follback:(0,p.jsx)("div",{className:Z["box-loading"],children:"Loading..."}),children:(0,p.jsx)(c.j3,{})})]})]})]})})]})}},245:function(e,t,r){r.d(t,{FO:function(){return d},Hg:function(){return i},IQ:function(){return m},JZ:function(){return l},Jh:function(){return p},e8:function(){return u},vF:function(){return c},zR:function(){return v}});var n=r(861),a=r(757),s=r.n(a),o=r(912).Z.create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"bc23d88e8c379b88dcc9e69c75bc8f78",language:"en-US"}}),l=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get("genre/movie/list",{params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get("trending/movie/day",{params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get("movie/top_rated",{params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get("search/movie",{params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,n.Z)(s().mark((function e(t,r){var n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get("movie/".concat(t),{params:r});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=(0,n.Z)(s().mark((function e(t,r){var n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get("movie/".concat(t,"/credits"),{params:r});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(s().mark((function e(t,r){var n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get("movie/".concat(t,"/reviews"),{params:r});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=(0,n.Z)(s().mark((function e(t,r){var n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get("movie/".concat(t,"/videos"),{params:r});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},725:function(e){var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(a){return!1}}()?Object.assign:function(e,s){for(var o,l,i=a(e),c=1;c<arguments.length;c++){for(var u in o=Object(arguments[c]))r.call(o,u)&&(i[u]=o[u]);if(t){l=t(o);for(var d=0;d<l.length;d++)n.call(o,l[d])&&(i[l[d]]=o[l[d]])}}return i}}}]);
//# sourceMappingURL=598.47f2126d.chunk.js.map