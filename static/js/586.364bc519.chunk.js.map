{"version":3,"file":"static/js/586.364bc519.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MovieItem/movie-item.module.scss?c68a","components/MovieItem/MovieItem.jsx","constants/LS.jsx","webpack://react-homework-template/./src/components/SearchForm/search-form.module.scss?fc12","components/SearchForm/SearchForm.jsx","webpack://react-homework-template/./src/pages/Movies/movies.module.scss?f3fb","pages/Movies/Movies.jsx","services/moviesAPI.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"content__item\":\"movie-item_content__item__Pot9i\",\"content__img\":\"movie-item_content__img__UkKVh\",\"box-description\":\"movie-item_box-description__PJTYq\",\"content__title\":\"movie-item_content__title__yOXn8\",\"content__text\":\"movie-item_content__text__lR+OK\",\"content__popularity\":\"movie-item_content__popularity__pSiNG\"};","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { load } from '../../constants/LS';\nimport css from './movie-item.module.scss';\n\nconst MovieItem = ({ moviesList }) => {\n  const location = useLocation();\n\n  const elements = moviesList.map(element => {\n    const {\n      poster_path,\n      title,\n      vote_average,\n      genre_ids,\n      release_date,\n      genres,\n      id,\n    } = element;\n\n    let movieGenres;\n    if (genres) {\n      movieGenres = load('genres')\n        .map(({ name }) => name)\n        .join(', ');\n    }\n\n    if (genre_ids) {\n      movieGenres = load('genres')\n        .filter(({ id }) => genre_ids.includes(id))\n        .map(({ name }) => name)\n        .join(', ');\n    }\n\n    return (\n      <li key={id} className={css['content__item']} data-id={id}>\n        <Link to={`/movies/${id}`} state={{ from: location }}>\n          <img\n            className={css['content__img']}\n            data-id={id}\n            src={\n              poster_path\n                ? `https://image.tmdb.org/t/p/original/${poster_path}`\n                : 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/No_photo_available.svg/800px-No_photo_available.svg.png'\n            }\n            alt={title}\n          />\n          <div className={css['box-description']}>\n            <h2 className={css['content__title']}>{title}</h2>\n            <p className={css['content__text']}>\n              {movieGenres} | {release_date.slice(0, 4)}\n            </p>\n            <p className={css['content__popularity']}>\n              {vote_average.toFixed(1)}\n            </p>\n          </div>\n        </Link>\n      </li>\n    );\n  });\n\n  return <>{elements}</>;\n};\n\nMovieItem.propTypes = {\n  moviesList: PropTypes.array.isRequired,\n};\n\nexport default MovieItem;\n","export const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nexport const load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport const del = key => {\n  try {\n    const serializedState = localStorage.removeItem(key);\n    localStorage.removeItem(key, serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"box-form\":\"search-form_box-form__R5a+5\",\"form-search\":\"search-form_form-search__MCLRX\",\"form-search__label\":\"search-form_form-search__label__9usOS\",\"form-search__input\":\"search-form_form-search__input__mllaY\",\"btn-submit\":\"search-form_btn-submit__HEsL5\"};","import { useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport css from './search-form.module.scss';\n\nconst SearchForm = () => {\n  const [params, setParams] = useSearchParams();\n  const search = params.get('movieName');\n\n  const [movieName, setMovieName] = useState(search ?? '');\n\n  const handleChange = e => {\n    setMovieName(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (movieName.trim() === '') {\n      return;\n    }\n    setParams({ movieName });\n    setMovieName('');\n  };\n\n  return (\n    <div className={css['box-form']}>\n      <form className={css['form-search']} onSubmit={handleSubmit}>\n        <label className={css['form-search__label']}>\n          <input\n            className={css['form-search__input']}\n            type=\"text\"\n            name=\"search\"\n            autoComplete=\"off\"\n            placeholder=\"Movie search\"\n            onChange={handleChange}\n            value={movieName}\n          />\n          <button type=\"submit\" className={css['btn-submit']}></button>\n        </label>\n      </form>\n    </div>\n  );\n};\n\nexport default SearchForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"movies_content__4grx3\",\"container\":\"movies_container__kH1Yc\",\"content__list\":\"movies_content__list__xHwIA\",\"content__item\":\"movies_content__item__w8EIo\",\"content__img\":\"movies_content__img__a1Y7+\",\"box-description\":\"movies_box-description__SX8ej\",\"content__title\":\"movies_content__title__V0Oy2\",\"content__text\":\"movies_content__text__IJ6ok\",\"content__popularity\":\"movies_content__popularity__P62wf\"};","import { useState, useEffect } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\n\nimport { getKeyword, getGenres } from '../../services/moviesAPI';\nimport { save, load } from '../../constants/LS';\nimport MovieItem from '../../components/MovieItem/MovieItem';\nimport SearchForm from '../../components/SearchForm/SearchForm';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\nimport css from './movies.module.scss';\n\nconst Movies = () => {\n  // eslint-disable-next-line no-unused-vars\n  const location = useLocation();\n\n  const [params] = useSearchParams();\n  const search = params.get('movieName');\n\n  const [moviesList, setMoviesList] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  useEffect(() => {\n    setMoviesList([]);\n    setCurrentPage(1); // for pagination\n\n    const fetchMoviesKeyword = async () => {\n      try {\n        Loading.pulse({\n          svgColor: 'orange',\n        });\n        const response = await getKeyword({\n          page: currentPage,\n          query: search,\n          include_adult: false,\n        });\n\n        if (!load('genres')) {\n          const responseGenres = await getGenres();\n          setMoviesList(prev => [...response.results]);\n          save('genres', responseGenres.genres);\n        }\n\n        if (response['total_results'] > 0) {\n          setMoviesList(prev => [...response.results]);\n\n          if (currentPage === 1) {\n            Notify.success(\n              `Hooray! We found ${response['total_results']} movies.`\n            );\n          }\n        }\n        if (response['total_results'] === 0) {\n          Notify.failure(\n            'Sorry, there are no movies matching your search query. Please try again.'\n          );\n        }\n        Loading.remove();\n        return response;\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if (search) {\n      fetchMoviesKeyword();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [search]);\n\n  return (\n    <main>\n      <SearchForm />\n      <div className={css.content}>\n        <div className={css.container}>\n          <ul className={css['content__list']}>\n            <MovieItem moviesList={moviesList} />\n          </ul>\n        </div>\n      </div>\n    </main>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst moviesService = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: {\n    api_key: 'bc23d88e8c379b88dcc9e69c75bc8f78',\n    language: 'en-US',\n  },\n});\n\nexport const getGenres = async params => {\n  const { data } = await moviesService.get('genre/movie/list', {\n    params,\n  });\n  return data;\n};\n\nexport const getTrending = async params => {\n  const { data } = await moviesService.get('trending/movie/day', {\n    params,\n  });\n  return data;\n};\n\nexport const getTop = async params => {\n  const { data } = await moviesService.get('movie/top_rated', {\n    params,\n  });\n  return data;\n};\n\nexport const getKeyword = async params => {\n  const { data } = await moviesService.get('search/movie', {\n    params,\n  });\n  return data;\n};\n\nexport const getById = async (id, params) => {\n  const { data } = await moviesService.get(`movie/${id}`, {\n    params,\n  });\n  return data;\n};\n\nexport const getCast = async (id, params) => {\n  const { data } = await moviesService.get(`movie/${id}/credits`, {\n    params,\n  });\n  return data;\n};\n\nexport const getReviews = async (id, params) => {\n  const { data } = await moviesService.get(`movie/${id}/reviews`, {\n    params,\n  });\n  return data;\n};\n\nexport const getYouTube = async (id, params) => {\n  const { data } = await moviesService.get(`movie/${id}/videos`, {\n    params,\n  });\n  return data;\n};\n"],"names":["moviesList","location","useLocation","elements","map","element","movieGenres","poster_path","title","vote_average","genre_ids","release_date","genres","id","load","name","join","filter","includes","className","css","to","state","from","src","alt","slice","toFixed","save","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","getItem","undefined","parse","useSearchParams","params","setParams","search","get","useState","movieName","setMovieName","onSubmit","e","preventDefault","trim","type","autoComplete","placeholder","onChange","currentTarget","toLowerCase","setMoviesList","currentPage","setCurrentPage","useEffect","fetchMoviesKeyword","Loading","svgColor","getKeyword","page","query","include_adult","response","getGenres","responseGenres","prev","results","Notify","log","MovieItem","moviesService","axios","baseURL","api_key","language","data","getTrending","getTop","getById","getCast","getReviews","getYouTube"],"sourceRoot":""}