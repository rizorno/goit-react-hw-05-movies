{"version":3,"file":"static/js/796.966e7d96.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MovieItem/movie-item.module.scss?c68a","components/MovieItem/MovieItem.jsx","constants/LS.jsx","constants/fetchStatus.jsx","webpack://react-homework-template/./src/pages/Home/home.module.scss?c0bb","pages/Home/Home.jsx","services/moviesAPI.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"content__item\":\"movie-item_content__item__Pot9i\",\"content__img\":\"movie-item_content__img__UkKVh\",\"box-description\":\"movie-item_box-description__PJTYq\",\"content__title\":\"movie-item_content__title__yOXn8\",\"content__text\":\"movie-item_content__text__lR+OK\",\"content__popularity\":\"movie-item_content__popularity__pSiNG\"};","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { load } from '../../constants/LS';\nimport css from './movie-item.module.scss';\n\nconst MovieItem = ({ moviesList }) => {\n  const location = useLocation();\n\n  const elements = moviesList.map(element => {\n    const {\n      poster_path,\n      title,\n      vote_average,\n      genre_ids,\n      release_date,\n      genres,\n      id,\n    } = element;\n\n    let movieGenres;\n    if (genres) {\n      movieGenres = load('genres')\n        .map(({ name }) => name)\n        .join(', ');\n    }\n\n    if (genre_ids) {\n      movieGenres = load('genres')\n        .filter(({ id }) => genre_ids.includes(id))\n        .map(({ name }) => name)\n        .join(', ');\n    }\n\n    return (\n      <li key={id} className={css['content__item']} data-id={id}>\n        <Link\n          to={location.pathname === '/' ? `movies/${id}` : `${id}`}\n          state={{ from: location }}\n        >\n          <img\n            className={css['content__img']}\n            data-id={id}\n            src={\n              poster_path\n                ? `https://image.tmdb.org/t/p/original/${poster_path}`\n                : 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/No_photo_available.svg/800px-No_photo_available.svg.png'\n            }\n            alt={title}\n          />\n          <div className={css['box-description']}>\n            <h2 className={css['content__title']}>{title}</h2>\n            <p className={css['content__text']}>\n              {movieGenres} | {release_date.slice(0, 4)}\n            </p>\n            <p className={css['content__popularity']}>\n              {vote_average.toFixed(1)}\n            </p>\n          </div>\n        </Link>\n      </li>\n    );\n  });\n\n  return <>{elements}</>;\n};\n\nMovieItem.propTypes = {\n  moviesList: PropTypes.array.isRequired,\n};\n\nexport default MovieItem;\n","export const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nexport const load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport const del = key => {\n  try {\n    const serializedState = localStorage.removeItem(key);\n    localStorage.removeItem(key, serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n","export const FETCH_STATUS = {\n  home: 'home',\n  movies: 'movies',\n  trending: 'trending',\n  top: 'top',\n  search: 'search',\n  info: 'info',\n  loading: 'loading',\n  fullfilled: 'fullfilled',\n  rejected: 'rejected',\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"box-btn-home\":\"home_box-btn-home__2h-F3\",\"header-btn-home\":\"home_header-btn-home__AOQ0C\",\"header-btn-home--current\":\"home_header-btn-home--current__wUns0\",\"content\":\"home_content__FNxFL\",\"container\":\"home_container__H4r93\",\"content__list\":\"home_content__list__jeC64\",\"content__item\":\"home_content__item__RWTbW\",\"content__img\":\"home_content__img__E36vt\",\"box-description\":\"home_box-description__PEyFe\",\"content__title\":\"home_content__title__PqOBM\",\"content__text\":\"home_content__text__pcjGU\",\"content__popularity\":\"home_content__popularity__+TFlz\"};","import { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport { FETCH_STATUS } from '../../constants/fetchStatus';\nimport { save } from '../../constants/LS';\nimport { getTrending, getTop, getGenres } from '../../services/moviesAPI';\nimport MovieItem from '../../components/MovieItem/MovieItem';\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\nimport css from './home.module.scss';\n\nconst Home = () => {\n  // eslint-disable-next-line no-unused-vars\n  const location = useLocation();\n\n  const [moviesList, setMoviesList] = useState([]);\n  const [currentPage] = useState(1);\n  const [status, setStatus] = useState(FETCH_STATUS.home);\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        Loading.pulse({\n          svgColor: 'orange',\n        });\n\n        const response = await getTrending({\n          page: currentPage,\n          adult: false,\n        });\n        const responseGenres = await getGenres();\n        setMoviesList(prev => [...response.results]);\n        save('genres', responseGenres.genres);\n\n        Loading.remove();\n        return response;\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    if (status === FETCH_STATUS.home || status === FETCH_STATUS.trending) {\n      fetchMovies();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [status, currentPage]);\n\n  useEffect(() => {\n    setMoviesList([]);\n    const fetchMoviesTop = async () => {\n      try {\n        Loading.pulse({\n          svgColor: 'orange',\n        });\n        const response = await getTop({\n          page: currentPage,\n        });\n\n        setMoviesList(prev => [...response.results]);\n\n        Loading.remove();\n        return response;\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if (status === FETCH_STATUS.top) {\n      fetchMoviesTop();\n    }\n  }, [status, currentPage]);\n\n  const handleChangeTrending = () => {\n    setStatus(FETCH_STATUS.trending);\n  };\n\n  const handleChangeTop = () => {\n    setStatus(FETCH_STATUS.top);\n  };\n\n  return (\n    <main>\n      <div className={css['box-btn-home']}>\n        {status === FETCH_STATUS.trending || status === FETCH_STATUS.home ? (\n          <button\n            name=\"trending\"\n            onClick={handleChangeTrending}\n            className={css['header-btn-home--current']}\n          >\n            Trending today\n          </button>\n        ) : (\n          <button\n            name=\"trending\"\n            onClick={handleChangeTrending}\n            className={css['header-btn-home']}\n          >\n            Trending\n          </button>\n        )}\n\n        {status === FETCH_STATUS.top ? (\n          <button\n            name=\"top\"\n            onClick={handleChangeTop}\n            className={css['header-btn-home--current']}\n          >\n            Top rated\n          </button>\n        ) : (\n          <button\n            name=\"top\"\n            onClick={handleChangeTop}\n            className={css['header-btn-home']}\n          >\n            Top rated\n          </button>\n        )}\n      </div>\n\n      <div className={css.content}>\n        <div className={css.container}>\n          <ul className={css['content__list']}>\n            <MovieItem moviesList={moviesList} />\n          </ul>\n        </div>\n      </div>\n    </main>\n  );\n};\n\nexport default Home;\n","import axios from 'axios';\n\nconst moviesService = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: {\n    api_key: 'bc23d88e8c379b88dcc9e69c75bc8f78',\n    language: 'en-US',\n  },\n});\n\nexport const getGenres = async params => {\n  const { data } = await moviesService.get('genre/movie/list', {\n    params,\n  });\n  return data;\n};\n\nexport const getTrending = async params => {\n  const { data } = await moviesService.get('trending/movie/day', {\n    params,\n  });\n  return data;\n};\n\nexport const getTop = async params => {\n  const { data } = await moviesService.get('movie/top_rated', {\n    params,\n  });\n  return data;\n};\n\nexport const getKeyword = async params => {\n  const { data } = await moviesService.get('search/movie', {\n    params,\n  });\n  return data;\n};\n\nexport const getById = async (id, params) => {\n  const { data } = await moviesService.get(`movie/${id}`, {\n    params,\n  });\n  return data;\n};\n\nexport const getCast = async (id, params) => {\n  const { data } = await moviesService.get(`movie/${id}/credits`, {\n    params,\n  });\n  return data;\n};\n\nexport const getReviews = async (id, params) => {\n  const { data } = await moviesService.get(`movie/${id}/reviews`, {\n    params,\n  });\n  return data;\n};\n\nexport const getYouTube = async (id, params) => {\n  const { data } = await moviesService.get(`movie/${id}/videos`, {\n    params,\n  });\n  return data;\n};\n"],"names":["moviesList","location","useLocation","elements","map","element","movieGenres","poster_path","title","vote_average","genre_ids","release_date","genres","id","load","name","join","filter","includes","className","css","to","pathname","state","from","src","alt","slice","toFixed","save","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","getItem","undefined","parse","FETCH_STATUS","useState","setMoviesList","currentPage","status","setStatus","useEffect","fetchMovies","Loading","svgColor","getTrending","page","adult","response","getGenres","responseGenres","prev","results","log","fetchMoviesTop","getTop","handleChangeTrending","handleChangeTop","onClick","MovieItem","moviesService","axios","baseURL","params","api_key","language","get","data","getKeyword","getById","getCast","getReviews","getYouTube"],"sourceRoot":""}